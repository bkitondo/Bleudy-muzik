{"ast":null,"code":"var React = require('react');\n\nvar ReactCSSTransitionGroup = require('react-addons-css-transition-group');\n\nvar history = require('history-events');\n\nvar assign = require('object-assign');\n\nvar Url = require('url');\n\nvar RouteParser = require('./RouteParser');\n\nvar urlRouteCache = {}; // route data per url\n\nvar urlStateCache = null; // state of the last url\n\nvar Router = React.createClass({\n  propTypes: {\n    url: React.PropTypes.string,\n    transitionName: React.PropTypes.string,\n    transitionEnter: React.PropTypes.bool,\n    transitionLeave: React.PropTypes.bool,\n    transitionDirection: React.PropTypes.bool,\n    component: React.PropTypes.string\n  },\n  childContextTypes: {\n    router: React.PropTypes.object\n  },\n  getInitialState: function () {\n    return {\n      route: this.getRoute(),\n      transitionDirection: this.getDirection()\n    };\n  },\n  componentDidMount: function () {\n    window.addEventListener('changestate', this.windowStateDidChange);\n  },\n  componentWillUnmount: function () {\n    window.removeEventListener('changestate', this.windowStateDidChange);\n  },\n  windowStateDidChange: function (e) {\n    this.setState({\n      route: this.getRoute(),\n      transitionDirection: this.getDirection()\n    });\n    this.cacheUrlState();\n  },\n  getChildContext: function () {\n    return {\n      router: this\n    };\n  },\n  getRoute: function () {\n    var href = this.props.url || location.href;\n    if (urlRouteCache[href]) return urlRouteCache[href];\n    var url = Url.parse(href);\n    var parse = RouteParser.create({\n      sensitive: false,\n      strict: false,\n      end: false\n    });\n    var routes = this.props.routes;\n    var i, route, match, params, props;\n\n    for (i in routes) {\n      route = routes[i];\n      match = parse(route.match);\n      params = match(url.pathname);\n\n      if (params) {\n        // route found\n        props = props = assign({\n          key: url.pathname\n        }, route.props);\n        delete props.handler;\n        delete props.path;\n        return urlRouteCache[href] = {\n          match: route.match,\n          handler: route.handler,\n          params: params,\n          url: url,\n          props: props\n        };\n      }\n    }\n\n    return urlRouteCache[href] = null; // no route found\n  },\n  getDirection: function () {\n    if (!this.props.transitionDirection) return null;\n    if (!history.isHistorySupported()) return null;\n    var state = window.history.state;\n    if (!state || !state.timestamp) return null;\n    if (!urlStateCache || !urlStateCache.timestamp) return 'forward';\n    if (state.timestamp > urlStateCache.timestamp) return 'forward';\n    if (state.timestamp < urlStateCache.timestamp) return 'back';\n    return null;\n  },\n  getTransitionName: function () {\n    var name = this.props.transitionName;\n    var direction = this.state.transitionDirection;\n    return direction ? name + '-' + direction : name;\n  },\n  cacheUrlState: function () {\n    urlStateCache = history.isHistorySupported() ? assign({}, window.history.state) : null;\n  },\n  renderHandler: function () {\n    return React.createElement(this.state.route.handler, this.state.route.props);\n  },\n  renderTransitionGroup: function () {\n    var props = assign({}, this.props, {\n      children: this.renderHandler(),\n      transitionName: this.getTransitionName()\n    });\n    delete props.url;\n    return React.createElement(ReactCSSTransitionGroup, props);\n  },\n  render: function () {\n    return this.props.transitionName ? this.renderTransitionGroup() : this.renderHandler();\n  }\n});\nmodule.exports = Router;","map":{"version":3,"names":["React","require","ReactCSSTransitionGroup","history","assign","Url","RouteParser","urlRouteCache","urlStateCache","Router","createClass","propTypes","url","PropTypes","string","transitionName","transitionEnter","bool","transitionLeave","transitionDirection","component","childContextTypes","router","object","getInitialState","route","getRoute","getDirection","componentDidMount","window","addEventListener","windowStateDidChange","componentWillUnmount","removeEventListener","e","setState","cacheUrlState","getChildContext","href","props","location","parse","create","sensitive","strict","end","routes","i","match","params","pathname","key","handler","path","isHistorySupported","state","timestamp","getTransitionName","name","direction","renderHandler","createElement","renderTransitionGroup","children","render","module","exports"],"sources":["/home/bleudy/Bureau/Documents/all-Project/bleudy_muzik/node_modules/react-routes/lib/Router.js"],"sourcesContent":["var React = require('react');\nvar ReactCSSTransitionGroup = require('react-addons-css-transition-group');\nvar history = require('history-events');\nvar assign = require('object-assign');\nvar Url = require('url');\nvar RouteParser = require('./RouteParser');\n\nvar urlRouteCache = {}; // route data per url\nvar urlStateCache = null; // state of the last url\n\nvar Router = React.createClass({\n  propTypes: {\n    url: React.PropTypes.string,\n    transitionName: React.PropTypes.string,\n    transitionEnter: React.PropTypes.bool,\n    transitionLeave: React.PropTypes.bool,\n    transitionDirection: React.PropTypes.bool,\n    component: React.PropTypes.string\n  },\n\n  childContextTypes: {\n    router: React.PropTypes.object\n  },\n\n  getInitialState: function() {\n    return {route: this.getRoute(), transitionDirection: this.getDirection()};\n  },\n\n  componentDidMount: function() {\n    window.addEventListener('changestate', this.windowStateDidChange);\n  },\n\n  componentWillUnmount: function() {\n    window.removeEventListener('changestate', this.windowStateDidChange);\n  },\n\n  windowStateDidChange: function(e) {\n    this.setState({route: this.getRoute(), transitionDirection: this.getDirection()});\n    this.cacheUrlState();\n  },\n\n  getChildContext: function() {\n    return {router: this};\n  },\n\n  getRoute: function() {\n    var href = this.props.url || location.href;\n    if (urlRouteCache[href]) return urlRouteCache[href];\n\n    var url = Url.parse(href);\n    var parse = RouteParser.create({sensitive: false, strict: false, end: false});\n    var routes = this.props.routes;\n\n    var i, route, match, params, props;\n    for (i in routes) {\n      route = routes[i];\n      match = parse(route.match);\n      params = match(url.pathname);\n\n      if (params) { // route found\n        props = props = assign({key: url.pathname}, route.props);\n        delete props.handler;\n        delete props.path;\n\n        return urlRouteCache[href] = {match: route.match, handler: route.handler, params: params, url: url, props: props};\n      }\n    }\n    return urlRouteCache[href] = null; // no route found\n  },\n\n  getDirection: function() {\n    if (!this.props.transitionDirection) return null;\n    if (!history.isHistorySupported()) return null;\n\n    var state = window.history.state;\n    if (!state || !state.timestamp) return null;\n    if (!urlStateCache || !urlStateCache.timestamp) return 'forward';\n    if (state.timestamp > urlStateCache.timestamp) return 'forward';\n    if (state.timestamp < urlStateCache.timestamp) return 'back';\n    return null;\n  },\n\n  getTransitionName: function() {\n    var name = this.props.transitionName;\n    var direction = this.state.transitionDirection;\n\n    return direction ? name+'-'+direction : name;\n  },\n\n  cacheUrlState: function() {\n    urlStateCache = history.isHistorySupported() ? assign({}, window.history.state) : null;\n  },\n\n  renderHandler: function() {\n    return React.createElement(this.state.route.handler, this.state.route.props);\n  },\n\n  renderTransitionGroup: function() {\n    var props = assign({}, this.props, {children: this.renderHandler(), transitionName: this.getTransitionName()});\n    delete props.url;\n\n    return React.createElement(ReactCSSTransitionGroup, props);\n  },\n\n  render: function() {\n    return this.props.transitionName ? this.renderTransitionGroup() : this.renderHandler();\n  }\n});\n\nmodule.exports = Router;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}